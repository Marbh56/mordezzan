{{define "title"}}{{.Character.Name}} - Character Details - Mordezzan{{end}}
{{define "content"}}
<div class="character-detail">
    <div class="header-section">
        <h1>{{.Character.Name}}</h1>
        <div class="character-actions">
            <a href="/characters/edit?id={{.Character.ID}}" class="edit-button"
                >Edit Character</a
            >
            <form
                action="/characters/delete"
                method="POST"
                style="display: inline"
            >
                <input
                    type="hidden"
                    name="character_id"
                    value="{{.Character.ID}}"
                />
                <button
                    type="submit"
                    class="delete-button"
                    onclick="return confirm('Are you sure you want to delete this character?')"
                >
                    Delete Character
                </button>
            </form>
        </div>
    </div>

    {{if .FlashMessage}}
    <div class="flash-message">{{.FlashMessage}}</div>
    {{end}}

    <div class="character-stats-container">
        <div class="stat-section hp-section">
            <h2>Hit Points</h2>
            <div class="hp-display">
                <span class="current-hp">{{.Character.CurrentHp}}</span>
                <span class="hp-separator">/</span>
                <span class="max-hp">{{.Character.MaxHp}}</span>
            </div>
        </div>

        <div class="stat-section ability-scores-section">
            <h2>Ability Scores</h2>
            <div class="ability-scores-grid">
                <!-- Strength Section -->
                <div class="ability-score-detailed">
                    <h3>Strength</h3>
                    <div class="score-value">{{.Character.Strength}}</div>
                    <div class="modifier-details">
                        <div class="modifier-row">
                            <span class="label">Attack (Melee):</span>
                            <span class="value"
                                >{{if ge .Character.StrengthModifiers.AttackMod
                                0}}+{{end}}{{.Character.StrengthModifiers.AttackMod}}</span
                            >
                        </div>
                        <div class="modifier-row">
                            <span class="label">Damage:</span>
                            <span class="value"
                                >{{if ge .Character.StrengthModifiers.DamageMod
                                0}}+{{end}}{{.Character.StrengthModifiers.DamageMod}}</span
                            >
                        </div>
                        <div class="modifier-row">
                            <span class="label">Test of Strength:</span>
                            <span class="value"
                                >{{.Character.StrengthModifiers.TestOfStrength}}</span
                            >
                        </div>
                        <div class="modifier-row">
                            <span class="label">Extraordinary Feat:</span>
                            <span class="value"
                                >{{.Character.StrengthModifiers.ExtraordinaryFeat}}%</span
                            >
                        </div>
                    </div>
                </div>

                <!-- Dexterity Section -->
                <div class="ability-score-detailed">
                    <h3>Dexterity</h3>
                    <div class="score-value">{{.Character.Dexterity}}</div>
                    <div class="modifier-details">
                        <div class="modifier-row">
                            <span class="label">Attack (Missile):</span>
                            <span class="value"
                                >{{if ge .Character.DexterityModifiers.AttackMod
                                0}}+{{end}}{{.Character.DexterityModifiers.AttackMod}}</span
                            >
                        </div>
                        <div class="modifier-row">
                            <span class="label">Defense:</span>
                            <span class="value"
                                >{{if ge
                                .Character.DexterityModifiers.DefenseAdj
                                0}}+{{end}}{{.Character.DexterityModifiers.DefenseAdj}}</span
                            >
                        </div>
                        <div class="modifier-row">
                            <span class="label">Test of Dexterity:</span>
                            <span class="value"
                                >{{.Character.DexterityModifiers.TestOfDexterity}}</span
                            >
                        </div>
                        <div class="modifier-row">
                            <span class="label">Extraordinary Feat:</span>
                            <span class="value"
                                >{{.Character.DexterityModifiers.ExtraordinaryFeat}}%</span
                            >
                        </div>
                    </div>
                </div>

                <!-- Constitution Section -->
                <div class="ability-score-detailed">
                    <h3>Constitution</h3>
                    <div class="score-value">{{.Character.Constitution}}</div>
                    <div class="modifier-details">
                        <div class="modifier-row">
                            <span class="label">Hit Points/Level:</span>
                            <span class="value"
                                >{{if ge
                                .Character.ConstitutionModifiers.HitPointMod
                                0}}+{{end}}{{.Character.ConstitutionModifiers.HitPointMod}}</span
                            >
                        </div>
                        <div class="modifier-row">
                            <span class="label">Poison/Radiation:</span>
                            <span class="value"
                                >{{if ge
                                .Character.ConstitutionModifiers.PoisonRadMod
                                0}}+{{end}}{{.Character.ConstitutionModifiers.PoisonRadMod}}</span
                            >
                        </div>
                        <div class="modifier-row">
                            <span class="label">Trauma Survival:</span>
                            <span class="value"
                                >{{.Character.ConstitutionModifiers.TraumaSurvival}}%</span
                            >
                        </div>
                        <div class="modifier-row">
                            <span class="label">Test of Constitution:</span>
                            <span class="value"
                                >{{.Character.ConstitutionModifiers.TestOfCon}}</span
                            >
                        </div>
                        <div class="modifier-row">
                            <span class="label">Extraordinary Feat:</span>
                            <span class="value"
                                >{{.Character.ConstitutionModifiers.ExtraordinaryFeat}}%</span
                            >
                        </div>
                    </div>
                </div>

                <!-- Intelligence Section -->
                <div class="ability-score">
                    <h3>Intelligence</h3>
                    <div class="score-value">{{.Character.Intelligence}}</div>
                </div>

                <!-- Wisdom Section -->
                <div class="ability-score">
                    <h3>Wisdom</h3>
                    <div class="score-value">{{.Character.Wisdom}}</div>
                </div>

                <!-- Charisma Section -->
                <div class="ability-score">
                    <h3>Charisma</h3>
                    <div class="score-value">{{.Character.Charisma}}</div>
                </div>
            </div>
        </div>
    </div>
</div>
{{end}}
